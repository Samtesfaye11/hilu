<!DOCTYPE html>
<html lang="en" class="home">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Heart - Daily Love Notes</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="stylesheet" href="style.css">
  <meta name="description" content="Daily poems, letters, quotes, and Bible verses to brighten your day.">
  <meta property="og:title" content="My Heart - Daily Love Notes">
  <meta property="og:description" content="Daily poems, letters, quotes, and Bible verses to brighten your day.">
  <meta property="og:image" content="https://hiluye.vercel.app/preview.png">
  <meta property="og:url" content="https://hiluye.vercel.app">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="My Heart - Daily Love Notes">
  <meta name="twitter:description" content="Daily poems, letters, quotes, and Bible verses to brighten your day.">
  <meta name="twitter:image" content="https://hiluye.vercel.app/preview.png">
</head>

<body class="home">
<header>
  <h1> â¤ï¸ YOU â¤ï¸ </h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="poems.html">Poems</a>
    <a href="letters.html">Letters</a>
    <a href="vows.html">Vows</a>
    <a href="quotes.html">Quotes</a>
    <a href="bible.html">Bible Verses</a>
  </nav>
</header>

<main class="home-content">
  <div class="intro-card">
    <h2>Welcome</h2>
    <p>Every heartbeat I have feels brighter with you in my life. This space is filled with all the love, joy, and magic that you bring to me.</p>
  </div>

  <!-- Daily Sections -->
  <div class="daily-sections">
    <div class="daily-card" id="daily-verse-card">
      <h3>ğŸ“– Daily Bible Verse</h3>
      <p id="daily-verse">Loading today's verse...</p>
    </div>
    <div class="daily-card" id="daily-quote-card">
      <h3>ğŸ’Œ Daily Quote</h3>
      <p id="daily-quote">Loading today's quote...</p>
    </div>
    <div class="daily-card" id="daily-poem-card">
      <h3>ğŸŒ¸ Daily Poem</h3>
      <p id="daily-poem">Loading today's poem...</p>
    </div>
    <div class="daily-card" id="daily-letter-card">
      <h3>âœ‰ï¸ Daily Letter</h3>
      <p id="daily-letter">Loading today's letter...</p>
    </div>
  </div>
</main>

<footer>
  <p>Made with love â¤ï¸</p>
</footer>

<script>
async function getDailyVerse() {
  try {
    const response = await fetch("https://beta.ourmanna.com/api/v1/get/?format=json");
    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
    const data = await response.json();
    const verse = data.verse.details.text;
    const reference = data.verse.details.reference;
    document.getElementById("daily-verse").innerText = `"${verse}" â€” ${reference}`;
  } catch (err) {
    console.error("Failed to fetch daily verse:", err);
    document.getElementById("daily-verse").innerText = "Unable to load verse today. Please try again later.";
  }
}

async function getDailyContent() {
  try {
    const response = await fetch("daily.json");
    const data = await response.json();
    const startDate = new Date("2025-01-01");
    const today = new Date();
    let dayNumber = Math.floor((today - startDate) / (1000 * 60 * 60 * 24)) + 1;
    if(dayNumber > data.length) dayNumber = dayNumber % data.length || data.length;
    const todayEntry = data.find(d => d.day === dayNumber);
    if(todayEntry){
      document.getElementById("daily-quote").innerText = todayEntry.quote;
      document.getElementById("daily-poem").innerText = todayEntry.poem;
      document.getElementById("daily-letter").innerText = todayEntry.letter;
    }
  } catch (err) {
    console.error("Failed to load daily content:", err);
    document.getElementById("daily-quote").innerText = "Unable to load quote.";
    document.getElementById("daily-poem").innerText = "Unable to load poem.";
    document.getElementById("daily-letter").innerText = "Unable to load letter.";
  }
}

window.addEventListener("DOMContentLoaded", () => {
  getDailyVerse();
  getDailyContent();
});
</script>

</body>
</html>
